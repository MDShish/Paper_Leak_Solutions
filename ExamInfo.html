<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeX Levitators - Exam Setup</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #212121;
            color: #cccccc;
            overflow: hidden; /* Ensure no scrollbars */
            background: linear-gradient(315deg, rgba(101, 0, 94, 1) 3%, rgba(60, 132, 206, 1) 38%, rgba(48, 238, 226, 1) 68%, rgba(255, 25, 25, 1) 98%);
            animation: gradient 15s ease infinite;
            background-size: 400% 400%;
            background-attachment: fixed;
        }

        @keyframes gradient {
            0% {
                background-position: 0% 0%;
            }

            50% {
                background-position: 100% 100%;
            }

            100% {
                background-position: 0% 0%;
            }
        }

        .setup-container {
            background-color: #333;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .setup-header h2 {
            margin: 0 0 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border-radius: 4px;
            border: 1px solid #555;
            background-color: #444;
            color: #ccc;
        }

        .form-group button {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 4px;
            background-color: #5cb85c;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
        }

        .form-group button:disabled {
            background-color: #777;
            cursor: not-allowed;
        }

        .info {
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
            color: #ccc;
        }

        .green-text {
            color: #5cb85c;
        }
    </style>
</head>

<body class="dark-mode">
    <div class="setup-container">
        <div class="setup-header">
            <h2>Setup Exam for <span class="green-text">CodeX</span>Levitators</h2>
        </div>
        <form id="setup-form">
            <div class="form-group">
                <label for="exam">Select Exam</label>
                <select id="exam">
                    <option value="NEET-UG">NEET-UG</option>
                    <option value="JEE Main">JEE Main</option>
                    <option value="CUET-UG">CUET-UG</option>
                </select>
            </div>
            <div class="form-group">
                <label for="duration">Duration</label>
                <input type="text" id="duration" value="03:15:00" readonly>
            </div>
            <div class="form-group">
                <label for="date">Exam Date</label>
                <input type="date" id="date">
            </div>
            <div class="form-group">
                <label for="start-time">Start Time</label>
                <input type="time" id="start-time">
            </div>
            <div class="form-group">
                <label for="end-time">End Time</label>
                <input type="time" id="end-time" readonly>
            </div>
            <div class="form-group">
                <button type="submit" id="submit-btn">Set Exam</button>
            </div>
        </form>
        <div class="info">
            <p>Please ensure all fields are correctly filled out before submitting.</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const setupForm = document.getElementById('setup-form');
            const examInput = document.getElementById('exam');
            const dateInput = document.getElementById('date');
            const startTimeInput = document.getElementById('start-time');
            const endTimeInput = document.getElementById('end-time');

            startTimeInput.addEventListener('input', function () {
                const startTime = startTimeInput.value;
                if (startTime) {
                    const [hours, minutes] = startTime.split(':');
                    const startTimeDate = new Date();
                    startTimeDate.setHours(hours);
                    startTimeDate.setMinutes(minutes);
                    startTimeDate.setSeconds(0);
                    startTimeDate.setMilliseconds(0);

                    const endTimeDate = new Date(startTimeDate.getTime() + 3 * 60 * 60 * 1000 + 15 * 60 * 1000); // Add 3 hours and 15 minutes
                    const endHours = String(endTimeDate.getHours()).padStart(2, '0');
                    const endMinutes = String(endTimeDate.getMinutes()).padStart(2, '0');

                    endTimeInput.value = `${endHours}:${endMinutes}`;
                }
            });

            setupForm.addEventListener('submit', function (event) {
                event.preventDefault();
            
                const exam = examInput.value.trim();
                const dateInputValue = dateInput.value.trim();
                const startTime = startTimeInput.value.trim();
                const endTime = endTimeInput.value.trim();
            
                const today = new Date();
                const examDate = new Date(dateInputValue);
            
                if (examDate < today) {
                    alert("Error: Exam date cannot be before today.");
                    return;
                }
            
                alert(`Exam Setup Complete!\n\nExam: ${exam}\nDate: ${dateInputValue}\nStart Time: ${startTime}\nEnd Time: ${endTime}`);
            
                // Show loading page
                window.location.href = 'loading.html';
            
                // You can also use AJAX to send the data to the server and then redirect to the loading page
                // fetch('/examSetup', {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify({ exam, date: dateInputValue, startTime, endTime }),
                // })
                //.then(response => response.json())
                //.then(data => {
                //     window.location.href = 'loading.html';
                // })
                //.catch(error => console.error(error));
            });
        });

        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
            alert("Right-click is disabled on this website.");
        });

        window.history.pushState({}, '', '');

        window.addEventListener('popstate', function (event) {
            event.preventDefault();
            alert('Error: You cannot go back to the previous tab.');
            window.history.pushState({}, '', '');
            window.location.href = '#'; // Add this line to prevent the browser from going back
        });
    </script>
</body>

</html>
